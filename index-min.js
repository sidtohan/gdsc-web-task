const allRefs=(()=>{const e=document.querySelectorAll("section"),s=document.querySelector("header"),a=s.querySelector(".navigation-name"),t=s.querySelector(".burger-button"),n=t.querySelectorAll(".burger-line"),r=s.querySelectorAll(".navigation-option"),l=s.querySelector("nav"),i=document.querySelector("#home"),o=document.querySelector("#skills"),c=o.querySelector(".section-heading"),d=o.querySelector(".skills-info"),m=document.querySelector("#hobbies"),g=m.querySelector(".section-heading"),v=m.querySelector(".hobbies-info");return{navBar:s,navBarName:a,navBurger:t,navBurgerLines:n,navBarOptions:r,navBarOptionsContainer:l,home:i,skills:o,skillsHeading:c,skillsInfo:d,sections:e,hobbies:m,hobbiesHeading:g,hobbiesInfo:v}})(),navBarLogic=(()=>{const e=allRefs.navBarOptions;let s="home",a=e[0];allRefs.navBarName.addEventListener("click",()=>window.scrollTo(0,0)),e.forEach(e=>e.addEventListener("click",()=>{if(allRefs.navBarOptionsContainer.classList.toggle("show"),allRefs.navBurgerLines.forEach(e=>e.classList.toggle("show")),"home"===(s=e.classList[1]))return window.scrollTo(0,0);document.getElementById(`${s}`).scrollIntoView()}));const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(s=e.target.id,a.classList.remove("current"),(a=allRefs.navBar.querySelector(`.${s}`)).classList.add("current"))})},{rootMargin:"0px",threshold:.2});allRefs.navBurger.addEventListener("click",()=>{allRefs.navBurgerLines.forEach(e=>e.classList.toggle("show")),allRefs.navBarOptionsContainer.classList.toggle("show")});return{editNav:()=>{window.scrollY>1.5*allRefs.navBar.offsetHeight?allRefs.navBar.classList.add("sticky"):allRefs.navBar.classList.remove("sticky")},highlightOnScrollLogic:e=>t.observe(e)}})(),pageBuilder=(()=>{const e={rootMargin:"0px",threshold:.3},s=new IntersectionObserver((e,s)=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("active")})},e),a=new IntersectionObserver((e,s)=>{e.forEach(async e=>{e.isIntersecting&&("skill-div"===e.target.classList[0]?e.target.querySelector(".skill-bar").classList.add("show"):e.target.classList.add("show"),a.unobserve(e.target))})},e),t=new IntersectionObserver((e,s)=>{e.forEach(async e=>{e.isIntersecting&&e.target.classList.add("show")})},e);return{addHomeObserver:e=>{s.observe(e)},addSkillsObserver:e=>{a.observe(e)},addHobbiesObserver:e=>{t.observe(e)}}})(),observeAllSections=()=>{const e=[{name:"HTML5",mastery:85},{name:"CSS3",mastery:93},{name:"Javascript",mastery:98},{name:"React",mastery:80},{name:"Node.js",mastery:85},{name:"Express",mastery:70},{name:"MongoDB",mastery:76}],s=[{name:"Coding",icon:"./assets/coding.svg",iconAlt:"./assets/coding-alt.svg"},{name:"Music",icon:"./assets/music.svg",iconAlt:"./assets/music-alt.svg"},{name:"Gaming",icon:"./assets/gaming.svg",iconAlt:"./assets/gaming-alt.svg"},{name:"Anime",icon:"./assets/anime.svg",iconAlt:"./assets/anime-alt.svg"}];allRefs.sections.forEach(a=>{if("home"===a.id)for(let e of a.children)pageBuilder.addHomeObserver(e);else"skills"===a.id?(e.forEach(e=>{const s=document.createElement("div"),a=document.createElement("p"),t=document.createElement("div");s.classList.add("skill-div"),a.classList.add("skill-name"),a.textContent=e.name,t.classList.add("skill-bar"),t.style.width=`${e.mastery}%`,s.appendChild(a),s.appendChild(t),pageBuilder.addSkillsObserver(s),allRefs.skillsInfo.appendChild(s)}),pageBuilder.addSkillsObserver(a.children[0])):(s.forEach(e=>{let s;const a=document.createElement("div"),t=document.createElement("div"),n=document.createElement("object"),r=document.createElement("p");n.type="image/svg+xml",n.data=e.icon,n.classList.add("hobby-image"),n.addEventListener("load",()=>{(s=n.contentDocument.querySelector("path")).style.transition="0.35s ease-in-out"}),t.className="hobby-bg-div",r.textContent=e.name,a.className="hobby-card",r.className="hobby-name",a.appendChild(t),a.appendChild(n),a.appendChild(r),a.addEventListener("mouseenter",()=>{s.style.fill="#fdfffc"}),a.addEventListener("mouseleave",()=>{s.style.fill="#6320ee"}),pageBuilder.addHobbiesObserver(a),allRefs.hobbiesInfo.appendChild(a)}),pageBuilder.addHobbiesObserver(a.children[0]));navBarLogic.highlightOnScrollLogic(a)})};observeAllSections(),window.addEventListener("scroll",navBarLogic.editNav);